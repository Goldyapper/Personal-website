{% extends "base.html" %}
{% block title %}Rowing - Adam's Website{% endblock %}<!-- title of the page -->

{% block content %} <!-- contents of the page -->
    <h1>Rowing</h1>
    <h2 style="text-align: center;">Rowing Progress</h2>
    {% if dates|length > 0 %}
        <canvas id="rowingChart" style="width:100%; max-width:800px; height:400px;"></canvas>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="{{ url_for('static', filename='js/rowing.js') }}"></script>
        <script>
            renderRowingChart({{ dates|tojson }}, {{ avg_times|tojson }});
        </script>
    {% else %}
        <p>No rowing data yet. Enter distances above to see your progress.</p>
    {% endif %}

    <div class="rowing-container">
    <p>Please insert distance (Meters) per each leg below:</p>

        <form action="/rowing" method="post" class="rowing-form">
            <label for="leg_1">Leg 1 (0 - 5 mins):</label>
            <input type="number" name="leg_1" placeholder="0 Meters" class="leg_1_input" step="1" required>
            <label for="leg_2">Leg 2 (5 - 10 mins):</label>
            <input type="number" name="leg_2" placeholder="0 Meters" class="leg_2_input" step="1" required>
            <label for="leg_3">Leg 3 (10 - 15 mins):</label>
            <input type="number" name="leg_3" placeholder="0 Meters" class="leg_3_input" step="1" required>

            <button type="submit" class="rowing-button">Submit</button>
        </form>
    </div>

{% endblock %}